!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},n=t.parcelRequirea610;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},t.parcelRequirea610=n);var o=n("5IjG7"),i=n("6JpON"),s=n("8MBJY"),c=n("a2hTj"),u=n("7CFNy"),f=function(){"use strict";function t(r){e(s)(this,t),this.searchQuery=r,this.page=1,this.perPage=40}return e(c)(t,[{key:"fetchCards",value:function(){var e=this;console.log(this);var t="".concat(u.BASE_URL,"?key=").concat(u.API_KEY,"&q=").concat(this.searchQuery,"&image_type=photo&orientation=horizontal&safesearch=true&per_page=").concat(this.perPage,"&page=").concat(this.page);return fetch(t).then((function(e){if(!e.ok)throw new Error(!e.status);return e.json()})).then((function(t){var r=t.totalHits,a=t.hits,n=e.page*e.perPage>=r,o=1===e.page;return e.incrementPage(),{images:a,totalImages:r,isLastPage:n,isFirstPage:o}})).catch()}},{key:"incrementPage",value:function(){this.page+=1}}]),t}(),l=n("3vKGz"),h=n("kLHip"),d=n("edmVP");n("l1Gdk");var g=new(e(o))(".gallery li a",{captions:!0,captionsData:"alt",captionDelay:250,captionPosition:"bottom"}),p=(0,l.default)(),y=new f,m=new(0,d.default)({selector:".load-more",isHidden:!0});function v(){m.disable(),y.fetchCards().then((function(t){var r=t.images,a=t.totalImages,n=t.isLastPage,o=t.isFirstPage;if(function(e){p.cardsContainer.insertAdjacentHTML("beforeend",(0,h.default)(e)),g.refresh()}(r),0===r.length)throw new Error("Sorry, there are no images matching your search query. Please try again.");o&&e(i).Notify.success("Hooray! We found ".concat(a," images.")),n?(e(i).Notify.info("We're sorry, but you've reached the end of search results."),m.hide()):m.enable()})).catch(w),p.searchForm.reset()}function w(t){console.error(t),e(i).Notify.failure(t.message)}p.searchForm.addEventListener("submit",(function(t){t.preventDefault();var r=t.currentTarget.elements.searchQuery.value.trim();if(""===r)return e(i).Notify.failure("Sorry, there are no images matching your search query. Please try again.");y=new f(r),m.show(),p.cardsContainer.innerHTML="",g.refresh(),v()})),m.btnRefs.button.addEventListener("click",(function(){v()}))}();
//# sourceMappingURL=01-fetch-http.83e7aea8.js.map
